<header class="bg-danger text-white text-center ">
  <div class="container">
    <div class="row">
      <div class=" mt-3">
        <mat-icon aria-hidden="false" aria-label="Example home icon" fontIcon="home"></mat-icon>
        <h1>Gym Tonic</h1>
      </div>
    </div>
  </div>
</header>
<div class="container">
  <mat-stepper [linear]="true" orientation="vertical">
    <mat-step label="Sing Up" [stepControl]="usuarioDorm">
      <div class="">
        <form [formGroup]="usuarioDorm">
          <div>
            <mat-form-field>
              <mat-label>Nombre</mat-label>
              <input matInput placeholder="Nombre" formControlName="nombre">
            </mat-form-field>
            @if (usuarioDorm.get('nombre')?.errors && usuarioDorm.get('nombre')?.touched) {
              <mat-error>El nombre es obligatorio y debe tener mínimo 3 carácteres</mat-error>
            }
          </div>

          <div>
            <mat-form-field>
              <mat-label>Teléfono</mat-label>
              <input matInput placeholder="Teléfono" formControlName="telefono">
            </mat-form-field>
            @if (usuarioDorm.get('telefono')?.errors && usuarioDorm.get('telefono')?.touched) {
               <mat-error>El teléfono es obligatorio y debe tener un formato correcto</mat-error>
            }
          </div>
          <div>
            <mat-form-field>
              <mat-label>Dirección:</mat-label>
              <input matInput placeholder="Dirección" formControlName="direccion">
            </mat-form-field>
            @if (usuarioDorm.get('direccion')?.errors && usuarioDorm.get('direccion')?.touched) {
              <mat-error>Debe de introducir una direccion, minimo 3 carácteres</mat-error>
            }
          </div>
          <div>
            <mat-form-field>
              <mat-label>Email</mat-label>
              <input matInput placeholder="Email" formControlName="email">
            </mat-form-field>
            @if (usuarioDorm.get('email')?.errors && usuarioDorm.get('email')?.touched) {
              <mat-error>El email es obligatorio y debe tener un formato correcto</mat-error>
            }
          </div>
          <div>
            <mat-form-field appearance="fill">
              <mat-label>Contraseña</mat-label>
              <input matInput type="password" placeholder="Contraseña" formControlName="contrasena" id="contrasena">
            </mat-form-field>
            @if (usuarioDorm.get('contrasena')?.errors && usuarioDorm.get('contrasena')?.touched) {
              <mat-error> La contraseña es incorrecta</mat-error>
            }
          </div>
          <div>
            <mat-form-field>
              <mat-label>Confirmar contraseña introducida</mat-label>
              <input matInput type="password" placeholder="Confirmar contraseña" formControlName="comprobarcontrasena">
            </mat-form-field>
            @if (usuarioDorm.get('comprobarcontrasena')?.errors && usuarioDorm.get('comprobarcontrasena')?.touched) {
              <mat-error>La contraseña no coincide</mat-error>
            }
          </div>
          <div>
            <button mat-button matStepperNext >Siguiente
            </button>
          </div>
        </form>
      </div>
    </mat-step>
    <mat-step label="Clases: " [stepControl]="clasesForm">
      <form [formGroup]="clasesForm">
        <div>
          <mat-form-field>
            <mat-label>Deporte:</mat-label>
            <mat-select multiple formControlName="clases">
              <mat-option value="Pilates">Pilates</mat-option>
              <mat-option value="Futbol">Futbol</mat-option>
              <mat-option value="Natación">Natación</mat-option>
            </mat-select>
          </mat-form-field>
          @if (clasesForm.get('clases')?.errors && clasesForm.get('clases')?.touched) {
            <mat-error>Debes de escoge una clase</mat-error>
          }
        </div>
        <div>
          <p>Sexo</p>
          <mat-radio-group formControlName="sexo">
            <mat-radio-button value="Mujer">Mujer</mat-radio-button>
            <mat-radio-button value="Hombre">Hombre</mat-radio-button>
          </mat-radio-group>
          @if (clasesForm.get('sexo')?.errors && clasesForm.get('sexo')?.touched) {
            <mat-error>Debes de escoger un sexo</mat-error>
          }
        </div>
        <div>
          <mat-checkbox formControlName="terminos">Aceptar términos</mat-checkbox>
          @if (clasesForm.get('terminos')?.errors && clasesForm.get('terminos')?.touched) {
            <mat-error>Debes de aceptar los términos</mat-error>
          }
        </div>
        <div>
          <button matStepperNext [disabled]="clasesForm.invalid">Siguiente
          </button>
        </div>
      </form>
    </mat-step>
    <mat-step label="Datos Introducidos: ">
      <div>
        <p>Nombre: {{ usuarioDorm.get('nombre')?.value }}</p>
        <p>Dirección: {{ usuarioDorm.get('direccion')?.value }}</p>
        <p>Teléfono: {{ usuarioDorm.get('telefono')?.value }}</p>
        <p>Email: {{ usuarioDorm.get('email')?.value }}</p>
        <p>Contraseña: {{ usuarioDorm.get('contrasena')?.value }}</p>
        <p>Confirmar contraseña: {{ usuarioDorm.get('comprobarcontrasena')?.value }}</p>
        <p>Clases: {{ clasesForm.get('clases')?.value }}</p>
        <p>Sexo: {{ clasesForm.get('sexo')?.value }}</p>
        <p>Términos y condiciones: {{ clasesForm.get('terminos')?.value }}</p>
      </div>
      <div>
        <button mat-raised-button (click)="openDialog()" class="btn btn-primary m-3 botonenviar" matStepperNext>Enviar</button>
      </div>

    </mat-step>
  </mat-stepper>
</div>
